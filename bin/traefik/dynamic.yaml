http:
  routers:
    # System 子路径
    router-system:
      rule: "(PathPrefix(`/system`) || PathPrefix(`/auth`))"
      entryPoints:
        - websecure
      service: service-system
      middlewares:
        - cors-header

    # Monitor
    router-monitor:
      rule: "PathPrefix(`/monitor`)"
      entryPoints:
        - websecure
      service: service-monitor
      middlewares:
        - cors-header

    # Resource
    router-resource:
      rule: "PathPrefix(`/resource`)"
      entryPoints:
        - websecure
      service: service-resource
      middlewares:
        - cors-header

    # demo
    router-demo:
      rule: "PathPrefix(`/demo`)"
      entryPoints:
        - websecure
      service: service-demo
      middlewares:
        - cors-header

  services:
    service-system:
      loadBalancer:
        servers:
          - url: "http://127.0.0.1:8091"

    service-monitor:
      loadBalancer:
        servers:
          - url: "http://127.0.0.1:8092"

    service-resource:
      loadBalancer:
        servers:
          - url: "http://127.0.0.1:8093"

    service-demo:
      loadBalancer:
        servers:
          - url: "http://127.0.0.1:8094"

  middlewares:
    cors-header:
      headers:
        accessControlAllowOriginList:
          - "*"
        accessControlAllowMethods:
          - "GET"
          - "POST"
          - "PUT"
          - "DELETE"
          - "OPTIONS"
        accessControlAllowHeaders:
          - "*"
        accessControlAllowCredentials: true
        addVaryHeader: true
